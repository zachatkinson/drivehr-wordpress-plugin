(()=>{"use strict";var e={70:(e,o,t)=>{e.exports=t(462)},462:(e,o,t)=>{var r=t(609),n=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};o.jsx=function(e,o,t){var r,c={},h=null,d=null;for(r in void 0!==t&&(h=""+t),void 0!==o.key&&(h=""+o.key),void 0!==o.ref&&(d=o.ref),o)l.call(o,r)&&!i.hasOwnProperty(r)&&(c[r]=o[r]);if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===c[r]&&(c[r]=o[r]);return{$$typeof:n,type:e,key:h,ref:d,props:c,_owner:a.current}}},609:e=>{e.exports=window.React}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var l=o[r]={exports:{}};return e[r](l,l.exports,t),l.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o);var r=t(609);const n=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,i=window.wp.components,c=(window.wp.data,window.wp.element),h=window.wp.primitives;var d=t(70);const s=(0,d.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(h.Path,{d:"M4 6h12V4.5H4V6Zm16 4.5H4V9h16v1.5ZM4 15h16v-1.5H4V15Zm0 4.5h16V18H4v1.5Z"})}),b=window.wp.apiFetch;var p=t.n(b);const w=window.wp.serverSideRender;var _=t.n(w);(0,n.registerBlockType)("drivehr/job-card",{edit:function(e){const{attributes:o,setAttributes:t}=e,{jobId:n,showExcerpt:h,showLocation:d,showJobType:b,buttonText:w,buttonStyle:v}=o,[u,m]=(0,c.useState)([]),[y,k]=(0,c.useState)(!0),E=(0,a.useBlockProps)({className:"drivehr-job-card-editor"});return(0,c.useEffect)(()=>{k(!0),p()({path:"/wp/v2/drivehr-jobs?per_page=100&status=publish&_fields=id,title"}).then(e=>{const o=e.map(e=>({label:e.title.rendered,value:e.id}));m(o),k(!1)}).catch(()=>{m([]),k(!1)})},[]),(0,r.createElement)("div",{...E},(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(i.PanelBody,{title:(0,l.__)("Job Selection","drivehr-webhook"),initialOpen:!0},y?(0,r.createElement)(i.Placeholder,null,(0,r.createElement)(i.Spinner,null),(0,r.createElement)("p",null,(0,l.__)("Loading jobs...","drivehr-webhook"))):(0,r.createElement)(i.SelectControl,{label:(0,l.__)("Select Job","drivehr-webhook"),value:n,options:[{label:(0,l.__)("Choose a job...","drivehr-webhook"),value:0},...u],onChange:e=>t({jobId:parseInt(e,10)}),help:(0,l.__)("Select which job posting to display in this card.","drivehr-webhook")})),(0,r.createElement)(i.PanelBody,{title:(0,l.__)("Display Options","drivehr-webhook"),initialOpen:!1},(0,r.createElement)(i.ToggleControl,{label:(0,l.__)("Show Excerpt","drivehr-webhook"),checked:h,onChange:e=>t({showExcerpt:e}),help:(0,l.__)("Display a brief description of the job.","drivehr-webhook")}),(0,r.createElement)(i.ToggleControl,{label:(0,l.__)("Show Location","drivehr-webhook"),checked:d,onChange:e=>t({showLocation:e}),help:(0,l.__)("Display the job location.","drivehr-webhook")}),(0,r.createElement)(i.ToggleControl,{label:(0,l.__)("Show Job Type","drivehr-webhook"),checked:b,onChange:e=>t({showJobType:e}),help:(0,l.__)("Display the job type (Full-time, Part-time, etc.).","drivehr-webhook")})),(0,r.createElement)(i.PanelBody,{title:(0,l.__)("Button Settings","drivehr-webhook"),initialOpen:!1},(0,r.createElement)(i.TextControl,{label:(0,l.__)("Button Text","drivehr-webhook"),value:w,onChange:e=>t({buttonText:e}),help:(0,l.__)("Customize the text displayed on the apply button.","drivehr-webhook")}),(0,r.createElement)("div",{className:"drivehr-button-style-control"},(0,r.createElement)("label",{className:"components-base-control__label"},(0,l.__)("Button Style","drivehr-webhook")),(0,r.createElement)(i.ButtonGroup,null,(0,r.createElement)(i.Button,{variant:"primary"===v?"primary":"secondary",onClick:()=>t({buttonStyle:"primary"})},(0,l.__)("Primary","drivehr-webhook")),(0,r.createElement)(i.Button,{variant:"secondary"===v?"primary":"secondary",onClick:()=>t({buttonStyle:"secondary"})},(0,l.__)("Secondary","drivehr-webhook")),(0,r.createElement)(i.Button,{variant:"outline"===v?"primary":"secondary",onClick:()=>t({buttonStyle:"outline"})},(0,l.__)("Outline","drivehr-webhook")))))),!n&&!y&&(0,r.createElement)(i.Placeholder,{icon:s,label:(0,l.__)("DriveHR Job Card","drivehr-webhook"),instructions:(0,l.__)("Select a job to display using the block settings in the sidebar.","drivehr-webhook")},0===u.length&&(0,r.createElement)("p",{className:"drivehr-job-card-placeholder__no-jobs"},(0,l.__)("No jobs available. Please sync jobs from DriveHR first.","drivehr-webhook"))),n>0&&(0,r.createElement)(_(),{block:"drivehr/job-card",attributes:o,LoadingResponsePlaceholder:()=>(0,r.createElement)(i.Placeholder,null,(0,r.createElement)(i.Spinner,null)),ErrorResponsePlaceholder:()=>(0,r.createElement)(i.Placeholder,{icon:s,label:(0,l.__)("Error Loading Job","drivehr-webhook")},(0,r.createElement)("p",null,(0,l.__)("Could not load the selected job. Please try again.","drivehr-webhook")))}))},save:()=>null})})();